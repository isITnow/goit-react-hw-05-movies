{"version":3,"file":"static/js/407.362eb105.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Container/container.module.css?0cd8","components/Container/Container.jsx","components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/components/SearchForm/saerchForm.module.css?f4c6","components/SearchForm/SearchForm.jsx","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"container_container__yWowe\"};","// import PropTypes from 'prop-types';\n\nimport s from '../Container/container.module.css';\n\nconst Container = ({ children }) => {\n  return <div className={s.container}>{children}</div>;\n};\n\nexport default Container;\n\n// Container.propTypes = {};\n","import { Link } from 'react-router-dom';\nconst MovieList = ({ films }) => {\n  return (\n    <ul>\n      {films.map(({ id, title }) => (\n        <li key={id}>\n          <Link to={`/movies/${id}`}>{title}</Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MovieList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"saerchForm_form__auW9J\",\"btn\":\"saerchForm_btn__FkOwi\",\"input\":\"saerchForm_input__4YzdX\"};","import { toast } from 'react-toastify';\nimport { useState } from 'react';\nimport s from '../SearchForm/saerchForm.module.css';\nimport { useSearchParams } from 'react-router-dom';\nimport { useMemo } from 'react';\n\nconst SearchForm = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const queryParams = useMemo(() => {\n    return [...searchParams].reduce((acc, [key, value]) => {\n      acc[key] = value;\n      return acc;\n    }, {});\n  }, [searchParams]);\n\n  const [query, setQuery] = useState(queryParams.search ?? '');\n\n  const handleInputChange = evt => {\n    const { value } = evt.target;\n    setQuery(value);\n  };\n\n  const handleFormSubmit = evt => {\n    evt.preventDefault();\n    if (!query.trim()) {\n      toast.error('Please, enter your request');\n      return;\n    }\n    setSearchParams(prev => {\n      return { ...queryParams, search: query };\n    });\n  };\n\n  return (\n    <form className={s.form} onSubmit={handleFormSubmit}>\n      <input\n        name=\"film\"\n        type=\"text\"\n        placeholder=\"Пиши давай\"\n        className={s.input}\n        onChange={handleInputChange}\n        value={query}\n      />\n      <button type=\"submit\" className={s.btn}>\n        Search\n      </button>\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nimport { API } from 'services/api';\nimport MovieList from 'components/MovieList';\nimport SearchForm from 'components/SearchForm';\nimport Container from 'components/Container';\nimport { useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [searchParams] = useSearchParams();\n  const search = searchParams.get('search');\n  const [films, setFilms] = useState([]);\n  // const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    if (!search) {\n      return;\n    }\n    // setStatus('pending');\n    API.fetchFilmByQuery(search)\n      .then(({ data }) => {\n        if (!data.results.length) {\n          setFilms([]);\n          toast.warn(`No results matching \"${search}\"`);\n          return;\n        }\n        setFilms(data.results);\n      })\n      .catch(error => console.log(error.message))\n      .finally(() => {\n        // setStatus('resolved');\n      });\n  }, [search]);\n\n  return (\n    <Container>\n      <SearchForm />\n      {films.length > 0 && <MovieList films={films} />}\n    </Container>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\nconst BASE_URL = `https://api.themoviedb.org/3`;\nconst API_KEY = 'd70849b39c7b399ded2dffef6ee1baa4';\n\n// const filmApi = axios.create({\n//   baseURL: `https://api.themoviedb.org/3`,\n//   params: {\n//     key: '29319280-d70849b39c7b399ded2dffef6ee1baa4',\n//   },\n// });\n\n////// TRENDING //////\n\nconst fetchFilmTrending = async () => {\n  //   const params = {\n  //     media_type: 'movie',\n  //     time_window: 'day',\n  //   };\n\n  //   const response = filmApi.get('/', { params });\n\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`\n  );\n\n  return response;\n};\n\n////// QUERY //////\n\nconst fetchFilmByQuery = async (query, page) => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?&language=en-U&include_adult=true&api_key=${API_KEY}&page=${page}&query=${query}`\n  );\n\n  return response;\n};\n\n////// ID //////\n\nconst fetchFilmByID = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n};\n\n////// CAST //////\n\nconst fetchFilmCast = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n\n  return response;\n};\n\n////// REVIEWS //////\n\nconst fetchFilmReviews = async movieId => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n\n  return response;\n};\n\nexport const API = {\n  fetchFilmReviews,\n  fetchFilmCast,\n  fetchFilmByID,\n  fetchFilmByQuery,\n  fetchFilmTrending,\n};\n"],"names":["children","className","s","films","map","id","title","to","useSearchParams","searchParams","setSearchParams","queryParams","useMemo","reduce","acc","key","value","useState","search","query","setQuery","onSubmit","evt","preventDefault","trim","prev","toast","name","type","placeholder","onChange","target","get","setFilms","useEffect","API","then","data","results","length","catch","error","console","log","message","finally","Container","MovieList","BASE_URL","API_KEY","fetchFilmTrending","axios","response","fetchFilmByQuery","page","fetchFilmByID","movieId","fetchFilmCast","fetchFilmReviews"],"sourceRoot":""}